<html>
	<head>
		<meta charset="utf-8"/>
		<title>Aula 2</title>
		<link rel="stylesheet" type="text/css" href="bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="main.css"/>
	</head>
	<body>
		<div>
			<section class="contact">
				<header>
					<h3>Contato</h3>
				</header>
				<form action="/api/contatos" method="post">
					<div class="form-group">
  						    <label>Email</label>
  							<input type="email" class="form-control" name="email"/>
					</div>  		
  					<div class="form-group">					  						
  						<label>Mensagem</label>
  							<textarea name="mensagem" class="form-control"></textarea>
  					</div>  		  						
  					<button id="btn-form-contact" class="btn btn-info">Enviar</button>
				</form>
				<p class="message wait hide">Aguarde...</p>
				<p class="message hide">Obrigado! Em preve responderei seu contato!</p>
			</section>
		</div>	
	</body>

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>

<script>
	//document.queryselector("#form-contact")
	$("#form-contact").submit(function(){

		$("#btn-form-contact").addClass("hide");
		$(".message.wait").removeClass("hide");

		$.ajax({
			url: '/api/contatos',
			type: 'post',
			datatype: 'json',
			data: $("#form-contact").
				serialize(),
			success: function(data){
				//alert(data);
				$("#btn-form-contact").removeClass("hide");
				$(".message.wait").addClass("hide");
				$(".message.success").removeClass("hide");
			},
			error: function(data){
				alert('error'+data);
			}
		})
		alert('enviado form');
		return false;
	})
</script>

</html>